<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entre Acordes News - Universo da M√∫sica</title>
    <!-- Carrega o Tailwind CSS para estiliza√ß√£o r√°pida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configura√ß√£o de fonte e cores personalizadas -->
    <style>
        /*
        Paleta de Impacto (Inspirada em Almapreta - Alto Contraste)
        Fundo/Principal: #1a1a1a (Quase Preto / Fundo de Tinta)
        Texto Geral: #f0f0f0 (Off-White)
        Destaque (Accent/CG Red): #ed3f27 (Vermelho/Coral - A√ß√£o)
        Destaque Secund√°rio (Mustard): #feb21a (Amarelo - Alerta/Highlight)
        */
        
        /* Define a fonte do corpo (Sans-serif simples) e o fundo escuro */
        body {
            font-family: 'Inter', sans-serif; /* Fonte moderna e limpa */
            background-color: #1a1a1a; 
            color: #f0f0f0; /* Cor do texto padr√£o para o fundo escuro */
        }
        /* Fonte dos T√≠tulos (Bolder, mais impactante) */
        .header-font {
            font-family: 'Arial Black', Arial, sans-serif; 
            letter-spacing: -1px; /* Espa√ßamento mais apertado para for√ßa */
        }
        /* Cor de Destaque principal (Vermelho) */
        .text-accent {
            color: #ed3f27;
        }
        .bg-accent {
             background-color: #ed3f27;
        }
        /* Cor Principal para Header e Footer (Quase Preto) */
        .bg-primary-dark {
            background-color: #1a1a1a; 
        }
        /* Cor Secund√°ria para detalhes (Amarelo) */
        .text-secondary-yellow {
            color: #feb21a;
        }
        .bg-secondary-yellow {
             background-color: #feb21a;
        }

        /* Estilo para o loader de IA */
        .loader {
            border-top-color: #ed3f27;
            border-left-color: #ed3f27;
            border-bottom-color: #feb21a;
            border-right-color: #feb21a;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Estilos do Carrossel */
        .carousel-item {
            /* Garante que os itens ocupem toda a largura do cont√™iner e n√£o causem CLS */
            flex: 0 0 100%; 
            transition: transform 0.5s ease-in-out;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Cabe√ßalho e Navega√ß√£o (Header and Navigation) - Fundo Escuro com Borda Impactante -->
    <header class="bg-primary-dark shadow-xl sticky top-0 z-10 border-b-4 border-accent">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center">
            <!-- T√≠tulo do Jornal/Logo em CAPS com Destaques Amarelo e Vermelho -->
            <h1 class="header-font text-3xl font-extrabold text-white mb-3 md:mb-0 uppercase">
                <span class="text-accent">ENTRE</span> <span class="text-secondary-yellow">ACORDES</span> NEWS
            </h1>
            
            <!-- Navega√ß√£o Principal -->
            <nav class="flex space-x-2 sm:space-x-4 text-center">
                <!-- Bot√µes com texto em amarelo/vermelho para alto contraste -->
                <button onclick="updateContent('home')" class="nav-button text-white hover:text-secondary-yellow transition duration-150 py-2 px-3 rounded-lg font-bold uppercase active-page">In√≠cio</button>
                <button onclick="updateContent('noticias')" class="nav-button text-white hover:text-secondary-yellow transition duration-150 py-2 px-3 rounded-lg font-bold uppercase">Not√≠cias</button>
                <button onclick="updateContent('local')" class="nav-button text-white hover:text-secondary-yellow transition duration-150 py-2 px-3 rounded-lg font-bold uppercase">Cena Local</button>
                <button onclick="updateContent('terapia')" class="nav-button text-white hover:text-secondary-yellow transition duration-150 py-2 px-3 rounded-lg font-bold uppercase">Educa√ß√£o</button>
                <button onclick="updateContent('contato')" class="nav-button text-white hover:text-secondary-yellow transition duration-150 py-2 px-3 rounded-lg font-bold uppercase">Contato</button>
            </nav>
        </div>
    </header>

    <!-- √Årea de Conte√∫do Principal -->
    <!-- Usamos 'text-gray-900' e 'bg-white' dentro dos componentes para contraste, mas o fundo do body √© escuro -->
    <main id="content-area" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"></main>

    <!-- Rodap√© (Footer) - Fundo Escuro com Destaque Amarelo -->
    <footer class="bg-primary-dark text-white mt-auto border-t-4 border-secondary-yellow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
            <p>&copy; 2025 Entre Acordes News. Todos os direitos reservados. | Desenvolvido com <span class="text-accent">Gemini</span>.</p>
        </div>
    </footer>

    <!-- Script de Configura√ß√£o da API do Gemini e L√≥gica da Aplica√ß√£o -->
    <script>
        const API_KEY = ""; 
        const API_URL_GEMINI = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;
        
        let currentCarouselIndex = 0; 

        /**
         * Realiza a chamada √† API do Gemini com retries (backoff exponencial).
         */
        async function callGemini(payload, maxRetries = 3) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(API_URL_GEMINI, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429 || response.status >= 500) {
                            throw new Error(`HTTP Error: ${response.status}`);
                        }
                        const errorBody = await response.json();
                        throw new Error(`API Error: ${response.status} - ${JSON.stringify(errorBody)}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (text) {
                        return text;
                    } else {
                        throw new Error("Resposta do Gemini vazia ou inv√°lida.");
                    }
                } catch (error) {
                    console.error(`Tentativa ${i + 1} falhou:`, error);
                    if (i < maxRetries - 1) {
                        const delay = Math.pow(2, i) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                    } else {
                        throw new Error("Falha na chamada ao Gemini API ap√≥s todas as tentativas.");
                    }
                }
            }
        }

        // Dados de Not√≠cias Mockados
        const articles = [
            // DESTAQUE 1 (M√öSICA GERAL)
            { id: 1, title: "LAN√áAMENTO DA SEMANA: NOVO √ÅLBUM 'VIBRA√á√ïES URBANAS' ELOGIADO PELA CR√çTICA", category: "Not√≠cias Musicais", summary: "O aguardado √°lbum da banda indie brasileira domina as paradas e √© aclamado por sua fus√£o de ritmos. Analisamos faixa a faixa.", fullText: "No cen√°rio musical em constante evolu√ß√£o, a banda 'Ondas Sonoras' surpreendeu o p√∫blico e a cr√≠tica com o lan√ßamento de seu quarto √°lbum de est√∫dio, 'Vibra√ß√µes Urbanas'. O disco, que mistura elementos de pop, rock progressivo e ritmos afro-brasileiros, foi descrito por especialistas como 'um marco de criatividade e ousadia'. A faixa principal, 'Eco da Cidade', j√° acumula milh√µes de streams, impulsionando a banda ao topo das paradas nacionais. O vocalista, Leo Faria, disse em entrevista que o √°lbum √© uma 'carta de amor √†s metr√≥poles, com todos os seus ru√≠dos e melodias ocultas'.", date: "05/11/2025", imageUrl: "https://placehold.co/800x400/ed3f27/fff?text=√ÅLBUM+DESTAQUE+(POP/ROCK)" }, 
            // DESTAQUE 2 (CENA LOCAL)
            { id: 2, title: "AGENDA DA CASA DO RITMO: EVENTOS E OFICINAS GRATUITAS PARA NOVEMBRO", category: "Cena Local", summary: "Confira a programa√ß√£o completa do ponto de cultura mais vibrante de Sorocaba, incluindo shows de artistas regionais e aulas de percuss√£o.", fullText: "A Casa do Ritmo, reconhecida como um polo cultural vital em Sorocaba, divulgou sua agenda de novembro recheada de atividades. O destaque fica para o 'Festival Acordes de Outono', que trar√° 15 bandas locais, abrangendo do jazz ao metal. Al√©m disso, as oficinas gratuitas de 'Percuss√£o para Iniciantes' e 'Harmonia Popular' est√£o com inscri√ß√µes abertas. A administra√ß√£o do espa√ßo refor√ßa que a iniciativa visa democratizar o acesso √† arte e oferecer uma plataforma para o talento sorocabano. A oficina de percuss√£o, em particular, √© muito procurada e exige inscri√ß√£o pr√©via via website.", date: "04/11/2025", imageUrl: "https://placehold.co/800x400/feb21a/000?text=CENA+LOCAL+SOROCABA" }, 
            // DESTAQUE 3 (EDUCA√á√ÉO E TERAPIA)
            { id: 3, title: "O PODER CURATIVO DO SOM: COMO A MUSICOTERAPIA AUXILIA IDOSOS COM DEM√äNCIA", category: "Educa√ß√£o & Terapia", summary: "Um estudo recente mostra os benef√≠cios da m√∫sica para estimular a mem√≥ria e a qualidade de vida em pacientes com doen√ßas neurodegenerativas.", fullText: "Pesquisadores da Universidade Federal de S√£o Paulo (UNIFESP) publicaram resultados promissores sobre o uso da musicoterapia no tratamento de idosos com dem√™ncia e Alzheimer. O estudo acompanhou 50 pacientes e observou melhorias significativas na comunica√ß√£o, redu√ß√£o da ansiedade e recupera√ß√£o parcial de mem√≥rias atrav√©s de can√ß√µes de sua juventude. A terapeuta respons√°vel pelo projeto, Dra. L√∫cia Mendes, explica que a m√∫sica ativa √°reas do c√©rebro menos afetadas pela doen√ßa, servindo como uma 'ponte emocional' para o passado. A t√©cnica √© n√£o invasiva e est√° sendo integrada em diversos centros geri√°tricos do pa√≠s.", date: "03/11/2025", imageUrl: "https://placehold.co/800x400/1a1a1a/fff?text=MUSICOTERAPIA" }, 
            // ARTIGO SECUND√ÅRIO 4
            { id: 4, title: "TECNOLOGIA E M√öSICA: A ASCENS√ÉO DA INTELIG√äNCIA ARTIFICIAL NA COMPOSI√á√ÉO", category: "Not√≠cias Musicais", summary: "Ferramentas de IA est√£o transformando a produ√ß√£o musical. Artistas e produtores discutem os limites da criatividade algor√≠tmica.", fullText: "A tecnologia de Intelig√™ncia Artificial n√£o √© mais uma novidade, mas seu papel na composi√ß√£o musical est√° se intensificando. Programas de IA s√£o capazes de gerar melodias, harmonias e at√© arranjos completos com base em estilos predefinidos. Embora a ferramenta seja vista como um aux√≠lio poderoso para a fase de 'bloqueio criativo', levanta-se o debate sobre a originalidade e a 'alma' da m√∫sica. O produtor Renato Lima, conhecido por trabalhar com grandes nomes do MPB, defende que a IA deve ser uma 'colaboradora', mas nunca uma substituta da emo√ß√£o humana inerente √† arte.", date: "02/11/2025", imageUrl: "https://placehold.co/400x200/ed3f27/fff?text=IA+NA+M√öSICA" }, 
            // ARTIGO SECUND√ÅRIO 5
            { id: 5, title: "NADA YOGA: A PR√ÅTICA DA MEDITA√á√ÉO PELO SOM INTERNO GANHA FOR√áA NO BRASIL", category: "Educa√ß√£o & Terapia", summary: "Exploramos a filosofia milenar que usa a vibra√ß√£o sonora como caminho para o autoconhecimento e relaxamento profundo.", fullText: "O Nada Yoga, tamb√©m conhecido como 'Yoga do Som', √© uma disciplina que utiliza as vibra√ß√µes sonoras e a escuta profunda para atingir estados meditativos. Diferente da Musicoterapia, que usa a m√∫sica externa, o Nada Yoga foca no 'Anahata Nada', o som interno n√£o-tocado. Praticantes relatam maior foco, redu√ß√£o do estresse e uma conex√£o mais profunda com o pr√≥prio corpo. A expans√£o dessa pr√°tica no Brasil reflete uma busca crescente por m√©todos alternativos de bem-estar e controle da ansiedade no mundo moderno.", date: "01/11/2025", imageUrl: "https://placehold.co/400x200/feb21a/000?text=NADA+YOGA" },
            // ARTIGO SECUND√ÅRIO 6
             { id: 6, title: "ENTREVISTA EXCLUSIVA COM A REVELA√á√ÉO DO SAMBA SOROCABANO: 'RAIZ FORTE'", category: "Cena Local", summary: "O grupo 'Raiz Forte' fala sobre a import√¢ncia de manter as tradi√ß√µes do samba vivo na regi√£o e seus planos para o pr√≥ximo festival.", fullText: "O samba de Sorocaba tem um novo nome de peso: 'Raiz Forte'. O grupo, formado h√° tr√™s anos, acaba de lan√ßar seu primeiro EP e j√° conquistou o p√∫blico local com suas letras que celebram a cultura e a hist√≥ria da cidade. Em entrevista exclusiva ao Entre Acordes News, o pandeirista e vocalista, Jo√£o da Silva, destacou os desafios de ser um artista independente no interior de S√£o Paulo e a emo√ß√£o de se apresentar no Festival de Inverno. Eles prometem um show in√©dito na pr√≥xima semana com participa√ß√µes especiais de nomes tradicionais do g√™nero.", date: "31/10/2025", imageUrl: "https://placehold.co/400x200/1a1a1a/fff?text=SAMBA+SOROCABA" },
        ];

        const carouselArticles = articles.slice(0, 3);
        const secondaryArticles = articles.slice(3); 

        // ------------------------------------
        // L√ìGICA DO CARROSSEL
        // ------------------------------------
        function moveCarousel(direction) {
            const totalItems = carouselArticles.length;
            currentCarouselIndex = (currentCarouselIndex + direction + totalItems) % totalItems;
            updateCarouselView();
        }

        function updateCarouselView() {
            const carouselContainer = document.getElementById('carousel-container');
            if (carouselContainer) {
                // Calcula o quanto o container deve se deslocar (em %)
                const offset = -currentCarouselIndex * 100;
                carouselContainer.style.transform = `translateX(${offset}%)`;

                // Atualiza os indicadores (pontos)
                const indicators = document.querySelectorAll('.carousel-indicator');
                indicators.forEach((indicator, index) => {
                    if (index === currentCarouselIndex) {
                        indicator.classList.remove('bg-gray-400', 'hover:bg-gray-500');
                        // Indicador ativo em amarelo vibrante
                        indicator.classList.add('bg-secondary-yellow'); 
                    } else {
                        indicator.classList.remove('bg-secondary-yellow');
                        // Indicador inativo em vermelho sutil contra o fundo escuro
                        indicator.classList.add('bg-accent', 'opacity-50', 'hover:opacity-100'); 
                    }
                });
            }
        }
        
        // ------------------------------------
        // FUN√á√ïES DE RENDERIZA√á√ÉO DE P√ÅGINAS
        // ------------------------------------
        
        // Renderiza o componente de um card de not√≠cia secund√°ria
        function renderNewsCard(article) {
            // Card agora usa fundo branco para POP contra o fundo preto
            const icon = `<span class="text-accent mr-1 font-extrabold">&#9679;</span>`; // Ponto de impacto
            
            return `
                <div class="bg-white rounded-lg shadow-xl overflow-hidden transform hover:scale-[1.03] transition duration-300 border-b-4 border-secondary-yellow">
                    <img src="${article.imageUrl.replace('800x400', '400x200')}" alt="Imagem da not√≠cia: ${article.title}" class="w-full h-48 object-cover object-center" onerror="this.onerror=null;this.src='https://placehold.co/400x200/1a1a1a/fff?text=NOT√çCIA';" />
                    <div class="p-5">
                        <p class="text-sm font-black uppercase text-accent mb-1">${icon} ${article.category}</p>
                        <h3 class="header-font text-xl font-bold text-gray-900 mb-2 leading-snug">${article.title}</h3>
                        <p class="text-gray-600 text-sm">${article.summary}</p>
                        <!-- Bot√£o de Alto Contraste -->
                        <button onclick="renderArticle(${article.id})" class="mt-3 inline-block text-sm font-black text-secondary-yellow hover:text-accent transition duration-150 border-b-2 border-secondary-yellow hover:border-accent uppercase">
                            LEIA AGORA &rarr;
                        </button>
                        <p class="text-xs text-gray-400 mt-2">Publicado em: ${article.date}</p>
                    </div>
                </div>
            `;
        }
        
        // Renderiza o carrossel de destaques
        function renderCarousel() {
            // Cria os itens do carrossel
            const carouselItems = carouselArticles.map((article, index) => `
                <div class="carousel-item relative p-6 bg-white rounded-lg shadow-2xl border-l-8 border-accent text-gray-900">
                    <!-- Conte√∫do do Destaque -->
                    <h2 class="header-font text-4xl font-extrabold uppercase mb-4 leading-tight text-primary-dark">
                        ${article.title}
                    </h2>
                    <img src="${article.imageUrl}" alt="Imagem do banner principal" class="w-full h-64 object-cover object-center rounded-lg mb-4 border-2 border-secondary-yellow" onerror="this.onerror=null;this.src='https://placehold.co/800x400/ed3f27/fff?text=DESTAQUE+PRINCIPAL+M√öSICA';" />
                    <p class="text-lg text-gray-700 mb-4 leading-relaxed">${article.summary}</p>
                    <span class="inline-block bg-primary-dark text-secondary-yellow text-xs font-black px-4 py-1 rounded-full uppercase border-2 border-secondary-yellow">
                        DESTAQUE ${index + 1} | ${article.category}
                    </span>
                    <!-- Chamada para o artigo completo com resumo IA em cor de A√ß√£o -->
                    <button onclick="renderArticle(${article.id})" class="ml-4 font-black text-accent hover:underline transition duration-150 uppercase">
                        LER REPORTAGEM COMPLETA &rarr;
                    </button>
                </div>
            `).join('');

            // Estrutura completa do carrossel
            return `
                <div class="relative overflow-hidden mb-8">
                    <!-- Cont√™iner de Itens (Move-se horizontalmente) -->
                    <div id="carousel-container" class="flex" style="transform: translateX(0%);">
                        ${carouselItems}
                    </div>

                    <!-- Bot√£o Anterior (Design de Alto Contraste) -->
                    <button onclick="moveCarousel(-1)" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-accent text-primary-dark font-black p-3 rounded-r-lg ml-0 hover:bg-secondary-yellow transition duration-300 z-10 shadow-lg">
                        <span class="header-font">&lt;</span>
                    </button>

                    <!-- Bot√£o Pr√≥ximo (Design de Alto Contraste) -->
                    <button onclick="moveCarousel(1)" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-accent text-primary-dark font-black p-3 rounded-l-lg mr-0 hover:bg-secondary-yellow transition duration-300 z-10 shadow-lg">
                        <span class="header-font">&gt;</span>
                    </button>

                    <!-- Indicadores de Posi√ß√£o (Dots) -->
                    <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-10">
                        ${carouselArticles.map((_, index) => `
                            <button onclick="currentCarouselIndex = ${index}; updateCarouselView();" 
                                class="carousel-indicator w-4 h-4 rounded-full border-2 border-white transition duration-300 ${index === 0 ? 'bg-secondary-yellow' : 'bg-accent opacity-50 hover:opacity-100'}" 
                                aria-label="Ir para destaque ${index + 1}">
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        /**
         * NOVO: Gera um resumo do artigo usando a Gemini API.
         */
        async function generateSummary(id) {
            const article = articles.find(a => a.id === id);
            if (!article) return;

            const summaryContentDiv = document.getElementById('summary-content');
            const summarizeBtn = document.getElementById('summarize-btn');
            
            // Desabilita o bot√£o e Exibe o loader
            summarizeBtn.disabled = true;
            summaryContentDiv.innerHTML = `
                <div class="flex items-center space-x-3 text-white">
                    <div class="loader ease-linear rounded-full border-4 h-6 w-6"></div>
                    <p>IA EM A√á√ÉO: Gerando resumo conciso...</p>
                </div>
            `;

            const userPrompt = `Baseado neste artigo: "${article.fullText}", gere um resumo conciso e envolvente para um jornal musical. O resumo deve ter no m√°ximo 30 palavras e focar nas descobertas mais interessantes para o leitor.`;
            
            const payload = {
                contents: [{ parts: [{ text: userPrompt }] }],
                systemInstruction: {
                    parts: [{ text: "Voc√™ √© um assistente de reda√ß√£o para um jornal musical de alto impacto visual. Sua tarefa √© criar resumos curtos, diretos e com tom profissional e envolvente." }]
                },
            };

            try {
                const summaryText = await callGemini(payload);
                summarizeBtn.style.display = 'none'; // Esconde o bot√£o ap√≥s gerar
                summaryContentDiv.innerHTML = `<p class="font-bold text-xl leading-snug">${summaryText}</p>`;
            } catch (error) {
                console.error("Erro ao gerar resumo:", error);
                summaryContentDiv.innerHTML = `<p class="text-red-300">ERRO üö®: N√£o foi poss√≠vel gerar o resumo. Tente novamente mais tarde.</p>`;
            }
        }

        // Renderiza a p√°gina do Artigo com Resumo IA
        function renderArticle(id) {
            const article = articles.find(a => a.id === id);
            if (!article) return showMessage('Artigo n√£o encontrado.');

            const contentArea = document.getElementById('content-area');
            // Artigo usa fundo branco para leitura f√°cil contra o body escuro
            contentArea.innerHTML = `
                <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-2xl border-t-8 border-accent text-gray-900">
                    <button onclick="updateContent('home')" class="text-secondary-yellow hover:text-accent font-black mb-4 flex items-center uppercase transition duration-150">
                        &larr; VOLTAR PARA IN√çCIO
                    </button>
                    <h1 class="header-font text-4xl font-extrabold uppercase text-gray-900 mb-3 leading-snug">${article.title}</h1>
                    <p class="text-sm text-gray-500 mb-6 border-b pb-2">PUBLICADO EM: ${article.date} | CATEGORIA: <span class="text-accent font-black">${article.category}</span></p>
                    
                    <img src="${article.imageUrl.replace('800x400', '1000x500')}" alt="Imagem do artigo" class="w-full h-80 object-cover object-center rounded-lg mb-8 border-2 border-secondary-yellow" onerror="this.onerror=null;this.src='https://placehold.co/1000x500/1a1a1a/fff?text=REPORTAGEM+IMPACTO';" />

                    <!-- √Årea para o Resumo IA - Bloco de Contraste Amarelo/Vermelho -->
                    <div id="summary-section" class="bg-primary-dark text-white p-6 rounded-lg mb-8 border-l-4 border-secondary-yellow">
                        <h3 class="header-font text-2xl text-accent font-bold mb-3 uppercase">PONTO-CHAVE: RESUMO IA ‚ö°</h3>
                        <div id="summary-content">
                            <p class="mb-4 text-gray-300">Quer ir direto ao ponto? Clique para que nossa IA gere um resumo ultraconciso do artigo.</p>
                            <button id="summarize-btn" onclick="generateSummary(${id})" class="mt-2 bg-secondary-yellow text-primary-dark font-black py-2 px-4 rounded-full hover:bg-accent hover:text-white transition duration-300 shadow-md uppercase">
                                GERAR RESUMO CURTO
                            </button>
                        </div>
                    </div>

                    <!-- Conte√∫do Completo do Artigo -->
                    <div class="text-gray-700 leading-relaxed text-lg">
                        <p>${article.fullText}</p>
                    </div>
                </div>
            `;
        }

        /**
         * NOVO: Gerador de Ideias de Reportagem (Sidebar)
         */
        async function generateReportIdeas() {
            const ideasList = document.getElementById('report-ideas-list');
            const ideaButton = document.getElementById('generate-ideas-btn');
            
            // Desabilita o bot√£o e exibe o loader
            ideaButton.disabled = true;
            ideaButton.innerHTML = `
                <div class="flex items-center justify-center space-x-2">
                    <div class="loader ease-linear rounded-full border-2 h-4 w-4"></div>
                    <span class="uppercase">GERANDO...</span>
                </div>
            `;
            
            const userPrompt = `Sugira 5 ideias de pautas de reportagem de jornalismo musical para as seguintes categorias: Not√≠cias Musicais (geral), Cena Local (foco em Sorocaba) e Educa√ß√£o & Terapia (m√∫sica). Formate a resposta como uma lista numerada.`;
            
            const payload = {
                contents: [{ parts: [{ text: userPrompt }] }],
                systemInstruction: {
                    parts: [{ text: "Voc√™ √© um editor-chefe de um jornal musical brasileiro com foco em impacto. Seu tom √© criativo, jornal√≠stico e urgente. Gere 5 sugest√µes de t√≠tulos/pautas prontas para publica√ß√£o." }]
                },
            };

            try {
                const ideasText = await callGemini(payload);
                const listItems = ideasText.split('\n').map(line => {
                    const cleanLine = line.replace(/^\d+\.\s*/, '').trim();
                    if (cleanLine) return `<li class="mb-2 text-primary-dark font-semibold">&#9834; ${cleanLine}</li>`;
                    return '';
                }).join('');
                
                ideasList.innerHTML = `<ul class="list-none space-y-2">${listItems}</ul>`;
            } catch (error) {
                console.error("Erro ao gerar ideias:", error);
                ideasList.innerHTML = `<p class="text-accent">ERRO: N√£o foi poss√≠vel gerar novas pautas.</p>`;
            } finally {
                 ideaButton.disabled = false;
                 ideaButton.innerHTML = `GERAR 5 NOVAS PAUTAS üí•`;
            }
        }

        // Renderiza a P√°gina Inicial (DESTAQUES)
        function renderHome() {
            const listArticles = articles.slice(3, 6); 
            
            return `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <!-- Coluna Principal (CARROSSEL DE DESTAQUES) - 2/3 da tela em desktop -->
                    <div class="lg:col-span-2">
                        
                        <!-- Novo Carrossel de Not√≠cias -->
                        ${renderCarousel()}
                        
                        <!-- √öltimos Acordes (Grid de Artigos Secund√°rios) -->
                        <h3 class="header-font text-2xl font-black text-white mb-4 border-b-4 border-accent pb-2 uppercase">OUTRAS NOT√çCIAS</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            ${listArticles.map(renderNewsCard).join('')}
                        </div>
                    </div>

                    <!-- Coluna Lateral (Sidebar) - 1/3 da tela em desktop -->
                    <aside class="lg:col-span-1">
                        <!-- Gerador de Ideias de Pauta por IA (Fundo Branco para destaque) -->
                        <div class="bg-white rounded-lg shadow-xl p-6 mb-6 border-t-4 border-secondary-yellow text-gray-900">
                            <h3 class="header-font text-xl font-black text-primary-dark mb-4 border-b pb-2 uppercase">PLANNER IA ‚ö°</h3>
                            <div id="report-ideas-list" class="mb-4 text-sm text-gray-600">
                                <p class="text-gray-700">Gere 5 ideias frescas de pautas para as pr√≥ximas edi√ß√µes com um clique.</p>
                            </div>
                            <button id="generate-ideas-btn" onclick="generateReportIdeas()" class="w-full bg-accent text-white font-black py-2 rounded-lg hover:bg-secondary-yellow hover:text-primary-dark transition duration-300 shadow-md uppercase">
                                GERAR 5 NOVAS PAUTAS üí•
                            </button>
                        </div>
                        
                        <!-- Top 3 -->
                        <div class="bg-primary-dark rounded-lg shadow-xl p-6 mb-6 border-t-4 border-accent text-white">
                            <h3 class="header-font text-xl font-black text-secondary-yellow mb-4 border-b border-accent pb-2 uppercase">LEITURAS QUENTES</h3>
                            <ul class="space-y-3 text-sm">
                                <li class="hover:text-secondary-yellow cursor-pointer transition">&#9658; An√°lise do novo clipe de Anitta (Not√≠cias Musicais)</li>
                                <li class="hover:text-secondary-yellow cursor-pointer transition">&#9658; Melhores est√∫dios de grava√ß√£o em Sorocaba (Cena Local)</li>
                                <li class="hover:text-secondary-yellow cursor-pointer transition">&#9658; O uso da m√∫sica para combater a ins√¥nia (Educa√ß√£o & Terapia)</li>
                            </ul>
                        </div>

                        <!-- Podcast Banner -->
                        <div class="bg-secondary-yellow rounded-lg shadow-xl p-6 text-center border-4 border-accent text-primary-dark">
                            <p class="text-primary-dark font-black mb-2 header-font text-lg uppercase">N√ÉO PERCA O PODCAST!</p>
                            <p class="text-sm font-semibold">Bastidores e entrevistas exclusivas sobre a m√∫sica de Sorocaba.</p>
                            <img src="https://placehold.co/300x150/1a1a1a/feb21a?text=OU√áA+AGORA" alt="An√∫ncio" class="mt-4 mx-auto rounded-lg border-2 border-primary-dark"/>
                        </div>
                    </aside>
                </div>
            `;
        }

        // Renderiza a p√°gina de Categoria
        function renderCategory(category) {
            const filteredArticles = articles.filter(a => a.category.toLowerCase().includes(category.toLowerCase()));
            let categoryName = '';

            switch(category) {
                case 'noticias':
                    categoryName = 'NOT√çCIAS MUSICAIS (GERAL)';
                    break;
                case 'local':
                    categoryName = 'CENA LOCAL (SOROCABA E REGI√ÉO)';
                    break;
                case 'terapia':
                    categoryName = 'EDUCA√á√ÉO MUSICAL & TERAPIAS DO SOM';
                    break;
                default:
                    categoryName = category;
            }

            return `
                <h2 class="header-font text-3xl font-black text-white mb-6 border-b-4 border-secondary-yellow pb-2 uppercase">${categoryName}</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    ${filteredArticles.length > 0 ? 
                        filteredArticles.map(renderNewsCard).join('') : 
                        `<p class="col-span-3 text-lg text-secondary-yellow font-bold">NENHUMA NOT√çCIA ENCONTRADA NESTA SE√á√ÉO.</p>`
                    }
                </div>
            `;
        }

        // Renderiza a p√°gina de Contato
        function renderContact() {
            return `
                <!-- Fundo Branco para o formul√°rio, para leitura e contraste -->
                <div class="max-w-xl mx-auto bg-white p-8 rounded-lg shadow-2xl border-t-8 border-accent text-gray-900">
                    <h2 class="header-font text-3xl font-black text-primary-dark mb-6 border-b pb-2 uppercase">FALE CONOSCO ‚úâÔ∏è</h2>
                    
                    <form onsubmit="event.preventDefault(); showMessage('MENSAGEM ENVIADA! OBRIGADO PELO CONTATO.');">
                        <div class="mb-4">
                            <label for="name" class="block text-primary-dark font-bold mb-2 uppercase">Seu Nome</label>
                            <input type="text" id="name" required class="w-full p-3 border-2 border-primary-dark rounded-lg focus:ring-secondary-yellow focus:border-secondary-yellow transition duration-150">
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block text-primary-dark font-bold mb-2 uppercase">Seu Email</label>
                            <input type="email" id="email" required class="w-full p-3 border-2 border-primary-dark rounded-lg focus:ring-secondary-yellow focus:border-secondary-yellow transition duration-150">
                        </div>
                        <div class="mb-6">
                            <label for="message" class="block text-primary-dark font-bold mb-2 uppercase">Mensagem</label>
                            <textarea id="message" rows="5" required class="w-full p-3 border-2 border-primary-dark rounded-lg focus:ring-secondary-yellow focus:border-secondary-yellow transition duration-150"></textarea>
                        </div>
                        <!-- Bot√£o de A√ß√£o Vermelho -->
                        <button type="submit" class="w-full bg-accent text-white font-black py-3 rounded-lg hover:bg-secondary-yellow hover:text-primary-dark transition duration-300 shadow-md uppercase">
                            ENVIAR MENSAGEM AGORA
                        </button>
                    </form>
                    
                    <div class="mt-8 pt-4 border-t text-sm text-center text-gray-600">
                        <p>E-mail: contato@entrecordesnews.com</p>
                        <p>Telefone: 15 99677-4704</p>
                    </div>
                    
                    <!-- Lista da Equipe Editorial em Bloco de Destaque -->
                    <div class="mt-8 p-4 bg-primary-dark text-white rounded-lg text-left border-l-4 border-accent">
                        <h3 class="font-black text-secondary-yellow mb-2 header-font border-b border-accent pb-1 uppercase">EQUIPE DE REDA√á√ÉO:</h3>
                        <ul class="list-disc list-inside space-y-1 pl-4 text-sm">
                            <li>Sophia Ruivo Pompeu</li>
                            <li>Ra√≠ssa Rosendo Mio</li>
                            <li>Cau√™ Pereira</li>
                            <li>Rayane Azevedo</li>
                            <li>Richard Gabriel</li>
                        </ul>
                    </div>
                </div>
            `;
        }
        
        // Fun√ß√£o para exibir mensagem no lugar de alert()
        function showMessage(msg) {
            const contentArea = document.getElementById('content-area');
            // Notifica√ß√£o de Alto Contraste
            contentArea.innerHTML = `
                <div class="max-w-md mx-auto p-6 bg-secondary-yellow border-4 border-accent text-primary-dark rounded-lg shadow-2xl text-center">
                    <p class="font-black text-xl mb-2 header-font uppercase">ALERTA DE SISTEMA üì¢</p>
                    <p class="font-bold">${msg}</p>
                    <button onclick="updateContent('home')" class="mt-4 bg-accent text-white py-2 px-4 rounded-lg hover:opacity-90 transition duration-150 shadow-md font-black uppercase">VOLTAR AO IMPACTO</button>
                </div>
            `;
        }

        // Fun√ß√£o principal para carregar o conte√∫do na √°rea principal
        function updateContent(page) {
            const contentArea = document.getElementById('content-area');
            const navButtons = document.querySelectorAll('.nav-button');

            // Remove a classe de ativo de todos os bot√µes de navega√ß√£o
            navButtons.forEach(button => {
                button.classList.remove('active-page', 'text-secondary-yellow', 'bg-accent');
                button.classList.add('text-white', 'hover:text-secondary-yellow');
                if(button.getAttribute('onclick').includes(`'${page}'`)) {
                    // Bot√£o ativo recebe a cor Amarelo Secund√°rio no texto
                    button.classList.remove('text-white', 'hover:text-secondary-yellow');
                    button.classList.add('text-secondary-yellow', 'active-page'); 
                }
            });

            switch (page) {
                case 'home':
                    contentArea.innerHTML = renderHome();
                    setTimeout(updateCarouselView, 0); 
                    break;
                case 'noticias':
                    contentArea.innerHTML = renderCategory('noticias');
                    break;
                case 'local':
                    contentArea.innerHTML = renderCategory('local');
                    break;
                case 'terapia':
                    contentArea.innerHTML = renderCategory('terapia');
                    break;
                case 'contato':
                    contentArea.innerHTML = renderContact();
                    break;
                default:
                    contentArea.innerHTML = renderHome();
                    setTimeout(updateCarouselView, 0); 
            }
            window.scrollTo(0, 0); 
        }

        // Inicializa a p√°gina carregando o conte√∫do principal ao carregar o DOM
        document.addEventListener('DOMContentLoaded', () => {
            updateContent('home');
        });
    </script>
</body>
</html>